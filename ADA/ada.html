<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analytical Data Access (ADA) and Databricks – Analysts’ Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ADA/databricks_fundamentals.html" rel="next">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KBJCBD114T"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-KBJCBD114T', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"headline",
  "consent_type":"implied",
  "palette":"dark",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">ADA and Databricks</li><li class="breadcrumb-item"><a href="../ADA/ada.html">Analytical Data Access (ADA) and Databricks</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/duck_guidance.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="mailto:statistics.development@education.gov.uk" title="Email us" class="quarto-navigation-tool px-1" aria-label="Email us"><i class="bi bi-envelope"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-microsoft-teams"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://teams.microsoft.com/l/team/19%3a50f82a2718184a0e98ba86c3d411a02f%40thread.skype/conversations?groupId=6572094f-43a3-4537-bcf0-fc27dc6557ed&amp;tenantId=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9" target="_blank">
            DfE analysts network
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://teams.microsoft.com/l/team/19%3ae3c8551e86094e259a60848fcff4dbc1%40thread.skype/conversations?groupId=679b2376-8c8c-4062-a1c9-0744ce5ac88f&amp;tenantId=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9" target="_blank">
            Statistics production
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://teams.microsoft.com/l/team/19%3a311ec2e4d46b4dd38f0d61f05fb93383%40thread.skype/conversations?groupId=b95c605d-8fbc-4e4d-9a76-2f7d1c55e70a&amp;tenantId=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9" target="_blank">
            DfE R community
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-camera-reels"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://educationgovuk.sharepoint.com/:f:/r/sites/lvewp00086/SSU%20%20open%20sharing/Statistician%27s%20Guide%20to%20the%20Galaxy?csf=1&amp;web=1&amp;e=owScaj" target="_blank">
            Guide to the Galaxy sessions
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://educationgovuk.sharepoint.com/:f:/r/sites/lvewp00086/SSU%20%20open%20sharing/Explore%20Education%20Statistics?csf=1&amp;web=1&amp;e=HVpi0D" target="_blank">
            EES show and tells
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://educationgovuk.sharepoint.com/:f:/r/sites/lvewp00086/SSU%20%20open%20sharing/Reproducible%20Analytical%20Pipeline%20(RAP)%20resources/Knowledge-share%20series?csf=1&amp;web=1&amp;e=H0pcSH" target="_blank">
            RAP knowledge share series
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://educationgovuk.sharepoint.com/sites/sarpi/g/AC/Coffee%20and%20Coding.aspx?xsdata=MDV8MDF8fGU5YTkwYWU1OTNiNjQzZTIyZTM2MDhkYjVhY2MxN2JlfGZhZDI3N2M5YzYwYTRkYTFiNWYzYjNiOGIzNGE4MmY5fDB8MHw2MzgyMDM2MDQ4MjEyMjUwMTR8VW5rbm93bnxWR1ZoYlhOVFpXTjFjbWwwZVZObGNuWnBZMlY4ZXlKV0lqb2lNQzR3TGpBd01EQWlMQ0pRSWpvaVYybHVNeklpTENKQlRpSTZJazkwYUdWeUlpd2lWMVFpT2pFeGZRPT18MXxMMk5vWVhSekx6RTVPbTFsWlhScGJtZGZXVlJuZUUxRVVUTlphbGwwVGpKUk1FNTVNREJhYW1zMVRGUnJNbHBYV1hSTmVtTjZXbXBCTWxwdFZUQlBWMVV3UUhSb2NtVmhaQzUyTWk5dFpYTnpZV2RsY3k4eE5qZzBOell6TmpneE5qRXh8YjdlZWE0MGYzNDg5NGYxYzJlMzYwOGRiNWFjYzE3YmV8MmE3NzU1YzRmOWMyNDZlOTkwYWVmMjlkZjY5NjczZWE%3D&amp;sdata=ajlKYUZuNHFyNU9XSm5WR3ZZaUZHZDB4bjVJYkJzRFZNc0U1Uit5V1Q5cz0%3D&amp;ovuser=fad277c9%2Dc60a%2D4da1%2Db5f3%2Db3b8b34a82f9%2CTess%2EWILLIAMS%40EDUCATION%2EGOV%2EUK&amp;OR=Teams%2DHL&amp;CT=1684763684990&amp;clickparams=eyJBcHBOYW1lIjoiVGVhbXMtRGVza3RvcCIsIkFwcFZlcnNpb24iOiIyNy8yMzA0MDIwMjcwNSIsIkhhc0ZlZGVyYXRlZFVzZXIiOmZhbHNlfQ%3D%3D" target="_blank">
            Coffee and coding sessions
            </a>
          </li>
      </ul>
    </div>
    <a href="https://explore-education-statistics.service.gov.uk/" title="Explore education statistics" class="quarto-navigation-tool px-1" aria-label="Explore education statistics" target="_blank"><i class="bi bi-graph-up"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-2" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-2">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/dfe-analytical-services/analysts-guide" target="_blank">
            Source code
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/dfe-analytical-services/analysts-guide/issues/new" target="_blank">
            Suggest changes
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Learning resources</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../learning-development/learning-support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning support</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../learning-development/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../learning-development/r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../learning-development/git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../learning-development/python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../learning-development/accessibility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Accessibility</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Statistics production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/pub.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Routes for publishing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../RAP/rap-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RAP for Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/ud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Open Data Standards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/api-data-standards.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics API Data Standards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/ees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explore education statistics (EES)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Good examples in EES</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/embedded-charts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embedded visualisations in EES</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/scrums.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publication scrums</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/user-eng.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">User engagement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistics-production/user-analytics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EES analytics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Writing and visualising</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../writing-visualising/dashboards.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Public dashboards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../writing-visualising/dashboards_rshiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Creating R Shiny dashboards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../writing-visualising/visualising.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualising data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../writing-visualising/writing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Writing about data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Reproducible Analytical Pipelines (RAP)</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../RAP/rap-expectations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RAP expectations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../RAP/rap-support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RAP support</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../RAP/rap-faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RAP FAQs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../RAP/rap-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RAP for Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">ADA and Databricks</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
 <span class="menu-text">Understanding Databricks</span>
  </li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/ada.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Analytical Data Access (ADA) and Databricks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/databricks_fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Databricks fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/databricks_notebooks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Databricks notebooks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/databricks_workflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Databricks workflows</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
 <span class="menu-text">How to...</span>
  </li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/databricks_rstudio_sql_warehouse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Set up Databricks SQL Warehouse with RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/databricks_rstudio_personal_cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Set up Databricks personal compute cluster with RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/git_databricks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Databricks with Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/databricks_workflow_script_databricks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Script workflows in Databricks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ADA/databricks_workflow_script_rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Script workflows in RStudio</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-the-ada-project" id="toc-what-is-the-ada-project" class="nav-link active" data-scroll-target="#what-is-the-ada-project">What is the ADA project?</a>
  <ul class="collapse">
  <li><a href="#ada-support" id="toc-ada-support" class="nav-link" data-scroll-target="#ada-support">ADA support</a></li>
  </ul></li>
  <li><a href="#what-does-the-ada-project-mean-for-analysts" id="toc-what-does-the-ada-project-mean-for-analysts" class="nav-link" data-scroll-target="#what-does-the-ada-project-mean-for-analysts">What does the ADA project mean for analysts?</a>
  <ul class="collapse">
  <li><a href="#benefits-of-the-ada-project-and-databricks" id="toc-benefits-of-the-ada-project-and-databricks" class="nav-link" data-scroll-target="#benefits-of-the-ada-project-and-databricks">Benefits of the ADA project and Databricks</a></li>
  <li><a href="#making-the-most-of-databricks" id="toc-making-the-most-of-databricks" class="nav-link" data-scroll-target="#making-the-most-of-databricks">Making the most of Databricks</a></li>
  </ul></li>
  <li><a href="#what-is-databricks" id="toc-what-is-databricks" class="nav-link" data-scroll-target="#what-is-databricks">What is Databricks?</a>
  <ul class="collapse">
  <li><a href="#the-databricks-platform" id="toc-the-databricks-platform" class="nav-link" data-scroll-target="#the-databricks-platform">The Databricks platform</a></li>
  <li><a href="#databricks-faqs" id="toc-databricks-faqs" class="nav-link" data-scroll-target="#databricks-faqs">Databricks FAQs</a></li>
  <li><a href="#working-with-data-and-code" id="toc-working-with-data-and-code" class="nav-link" data-scroll-target="#working-with-data-and-code">Working with data and code</a></li>
  </ul></li>
  <li><a href="#what-this-means-for-existing-code" id="toc-what-this-means-for-existing-code" class="nav-link" data-scroll-target="#what-this-means-for-existing-code">What this means for existing code</a>
  <ul class="collapse">
  <li><a href="#sql-scripts" id="toc-sql-scripts" class="nav-link" data-scroll-target="#sql-scripts">SQL scripts</a></li>
  <li><a href="#r-scripts-in-rstudio" id="toc-r-scripts-in-rstudio" class="nav-link" data-scroll-target="#r-scripts-in-rstudio">R scripts in RStudio</a></li>
  <li><a href="#visualising-differences-in-your-existing-pipelines" id="toc-visualising-differences-in-your-existing-pipelines" class="nav-link" data-scroll-target="#visualising-differences-in-your-existing-pipelines">Visualising differences in your existing pipelines</a></li>
  </ul></li>
  <li><a href="#useful-links" id="toc-useful-links" class="nav-link" data-scroll-target="#useful-links">Useful links</a>
  <ul class="collapse">
  <li><a href="#ada-support-page" id="toc-ada-support-page" class="nav-link" data-scroll-target="#ada-support-page">ADA support page</a></li>
  <li><a href="#databricks-jargon-buster" id="toc-databricks-jargon-buster" class="nav-link" data-scroll-target="#databricks-jargon-buster">Databricks jargon buster</a></li>
  <li><a href="#differences-between-ides-and-notebooks" id="toc-differences-between-ides-and-notebooks" class="nav-link" data-scroll-target="#differences-between-ides-and-notebooks">Differences between IDEs and Notebooks</a></li>
  <li><a href="#walkthrough-a-simple-analysis" id="toc-walkthrough-a-simple-analysis" class="nav-link" data-scroll-target="#walkthrough-a-simple-analysis">Walkthrough a simple analysis</a></li>
  <li><a href="#helpful-getting-started-videos" id="toc-helpful-getting-started-videos" class="nav-link" data-scroll-target="#helpful-getting-started-videos">Helpful getting started videos</a></li>
  <li><a href="#databricks-code-templates" id="toc-databricks-code-templates" class="nav-link" data-scroll-target="#databricks-code-templates">Databricks code templates</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/dfe-analytical-services/analysts-guide/edit/main/ADA/ada.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/dfe-analytical-services/analysts-guide/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">ADA and Databricks</li><li class="breadcrumb-item"><a href="../ADA/ada.html">Analytical Data Access (ADA) and Databricks</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Analytical Data Access (ADA) and Databricks</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p class="text-muted">
Guidance for analysts on how to interact with and use data stored in ADA using Databricks
</p>
<hr>
<section id="what-is-the-ada-project" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-ada-project">What is the ADA project?</h2>
<p>The <a href="https://analytical-data-access.azurewebsites.net" target="_blank">Analytical Data Access (ADA) service</a> has been created to support analysts, engineers and policy team members.</p>
<p>It brings together:</p>
<ul>
<li>a searchable data catalogue - the Data Discovery Platform (DDP)</li>
<li>a workbench of tools for analysing data - including Databricks</li>
<li>a form for requesting access to data</li>
<li>a support section - with walkthrough instructions</li>
<li>a collection of data reports and dashboards</li>
<li>a news and updates area</li>
</ul>
<p>As long as you’re connected to the network - it’s available to anyone who works for the Department of Education.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>There is an Analytical Data Access <a href="https://analytical-data-access.azurewebsites.net/get-support/jargon" target="_blank">jargon buster</a> to help you understand different ADA and Databricks terms.</p>
</div>
</div>
<p>The ADA project is currently in its onboarding phase. The ADA team will work with analyst teams to plan migrations. We encourage teams to engage early so that you have time to migrate your work and receive support from the project team.</p>
<p>Data migration will replace three legacy systems:</p>
<ul>
<li>Pupil Data Repository (PDR)</li>
<li>Analysis and Modelling (A&amp;M)</li>
<li>Enterprise Data and Analysis Platform (EDAP1)</li>
</ul>
<p>Decommissioning of legacy servers will be completed in 2026.</p>
<p>See these <a href="https://adb-2220072380334347.7.azuredatabricks.net/browse/folders/4213691640199507?o=2220072380334347" target="_blank">Databricks support notebooks</a> for more detailed reference guides into how the service has been set up at DfE, including more information on workspaces, environments, notebooks, clusters, catalogs etc. Please note that you will need a Databricks account to access these.</p>
<p>From the <a href="https://analytical-data-access.education.gov.uk/" target="_blank">ADA homepage</a> you will be able to find data and access cloud analytical tools. This includes:</p>
<ul>
<li><p>Navigation to the Data Discovery Platform to find information regarding metadata of the datasets, including how to request access and information about the quality of the data. The catalogue will eventually include all Department data, as well as tagging of datasets available through ADA.</p></li>
<li><p>An <a href="https://analytical-data-access.education.gov.uk/workbench" target="_blank">analysis workbench</a> with access to cloud computing and Databricks. This will be extended to include POSIT workbench, which will allow RStudio to be used in the cloud.</p></li>
<li><p>A repository of Reports and Dashboards where outputs of data and analytical work will be saved. This will allow colleagues across DfE to interrogate and visualise data. In time this catalogue will grow and the ADA team are currently building out a formal strategy for this area.</p></li>
</ul>
<hr>
<section id="ada-support" class="level3">
<h3 class="anchored" data-anchor-id="ada-support">ADA support</h3>
<hr>
<p>The ADA team has established an analyst Community of Practice that:</p>
<ul>
<li><p>Increases the breadth and depth of knowledge about new tools</p></li>
<li><p>Builds confidence in using core functionality</p></li>
<li><p>Shares learning experiences and best practice</p></li>
<li><p>Identifies future opportunities to support the Department’s Strategic Data Transformation</p></li>
</ul>
<p>You can access support in the following places:</p>
<ul>
<li><p>The <a href="https://teams.microsoft.com/l/team/19%3AGQW24K3V6M873QzUwpBIuyf8KZCxYByRawVsKQvpe-81%40thread.tacv2/conversations?groupId=c70bb59d-c5df-4af5-849f-36196ed14ba3&amp;tenantId=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9" target="_blank">ADA user group</a> on Microsoft Teams</p></li>
<li><p>The <a href="https://analytical-data-access.education.gov.uk/get-support/join-a-community" target="_blank">ADA website</a> has a list of support resources</p></li>
<li><p>You can find a list of current ADA champions can be found on the <a href="https://educationgovuk.sharepoint.com/sites/lvewp00505" target="_blank">ADA intranet page</a>, and they are able to provide advice and support if you run into any issues. If you’re passionate about helping others with the migration and using innovative data tools, why not become an ADA champion? To get involved, please contact the <a href="mailto:ADAPTTeam@education.gov.uk">ADA team</a></p></li>
</ul>
<hr>
</section>
</section>
<section id="what-does-the-ada-project-mean-for-analysts" class="level2">
<h2 class="anchored" data-anchor-id="what-does-the-ada-project-mean-for-analysts">What does the ADA project mean for analysts?</h2>
<section id="benefits-of-the-ada-project-and-databricks" class="level3">
<h3 class="anchored" data-anchor-id="benefits-of-the-ada-project-and-databricks">Benefits of the ADA project and Databricks</h3>
<hr>
<p>Migration to Databricks offers a lot of potential benefits to analysts. These include:</p>
<ul>
<li><p>Having all data together in one place and being able to access it via one interface, rather than split across separate areas requiring separate access permissions and pieces of software</p></li>
<li><p>If your scripts usually take a long time to run, cloud computing can speed up processing and reduce code running time. This is ideal for big data, scripts that require a lot of data transformation (e.g.&nbsp;complicated or large joins), and machine learning projects</p></li>
<li><p>If you regularly have to run the same code, access to workflows and code scheduling mean that you can set code to run at certain days or times to improve efficiency. Scheduled workflows will run even if your laptop is switched off</p></li>
<li><p>Better transparency of work being undertaken in the department by making use of the ADA shared reports area.</p></li>
</ul>
<hr>
</section>
<section id="making-the-most-of-databricks" class="level3">
<h3 class="anchored" data-anchor-id="making-the-most-of-databricks">Making the most of Databricks</h3>
<hr>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The earlier your data is migrated, the more time you will have to dual run code from your existing methodology against code run on the Databricks platform, and the more time you have to influence the project and its offer for analysts. We encourage all analysts to engage with training and ask the ADA team about any questions or concerns as soon as possible so that you are prepared for any upcoming changes.</p>
</div>
</div>
<p>In order to take advantage of the benefits listed above, we recommend that you and your team:</p>
<ul>
<li><p>Arrange data migration and access to Databricks. Onboarding is currently voluntary, so it’s a great opportunity to move early and have more time to get familiar with the system and undertake training. Get in touch with <a href="mailto:ADAPTTeam@education.gov.uk">the ADA team</a> to discuss onboarding with them.</p></li>
<li><p>Take part in Databricks training for R and / or SQL. R training is currently offered by the ADA team on a monthly basis and SQL training is in the process of being developed. Upcoming training is advertised on the <a href="https://teams.microsoft.com/l/team/19%3AGQW24K3V6M873QzUwpBIuyf8KZCxYByRawVsKQvpe-81%40thread.tacv2/conversations?groupId=c70bb59d-c5df-4af5-849f-36196ed14ba3&amp;tenantId=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9" target="_blank">ADA user group Teams channel</a>.</p></li>
<li><p>Be proactive in determining whether any changes will be necessary for your existing code and set time aside to make these changes - see the guidance in the <a href="../ADA/ada.html#what-this-means-for-existing-code">what this means for existing code</a> section below.</p></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>For teams that have invested in RAP principles and already have existing code pipelines, it is possible to take advantage of cloud computing and use of data in the Databricks platform with minimal changes. This is covered in more detail in the <a href="../ADA/ada.html#what-this-means-for-existing-code">what this means for existing code</a> section below.</p>
</div>
</div>
<hr>
</section>
</section>
<section id="what-is-databricks" class="level2">
<h2 class="anchored" data-anchor-id="what-is-databricks">What is Databricks?</h2>
<section id="the-databricks-platform" class="level3">
<h3 class="anchored" data-anchor-id="the-databricks-platform">The Databricks platform</h3>
<hr>
<p>Databricks is the software that underpins ADA’s analytical workbench, allowing analysts to explore and analyse data via a browser, taking advantage of cloud computing. Unlike RStudio or SQL Server Management Studio (SSMS), you don’t have to download any software to be able to use it. Databricks offers a few different ways to work with data, including scripts and notebooks. Databricks notebooks support multiple programming languages, including R, Python, and SQL.</p>
<p>You can also access data held within the Databricks platform using other software, such as RStudio.</p>
<hr>
</section>
<section id="databricks-faqs" class="level3">
<h3 class="anchored" data-anchor-id="databricks-faqs">Databricks FAQs</h3>
<hr>
<p><strong>Is Databricks different to RAP?</strong></p>
<p>Yes - Databricks is a tool that you can use to create code and pipelines for reproducible analysis, similarly to how you’d currently use RStudio or SQL Server Management Studio.</p>
<p><strong>How much time will it take me to learn the basics?</strong></p>
<p>We recommend that you and your team engage with the platform as soon as possible so that you can learn at your own pace before you fully migrate. There are plenty of training resources available, including monthly training workshops run by the ADA team. These are advertised on the <a href="https://teams.microsoft.com/l/team/19%3AGQW24K3V6M873QzUwpBIuyf8KZCxYByRawVsKQvpe-81%40thread.tacv2/conversations?groupId=c70bb59d-c5df-4af5-849f-36196ed14ba3&amp;tenantId=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9" target="_blank">ADA user group Teams channel</a>.</p>
<p><strong>Can I still use SQL?</strong></p>
<p>Eventually all teams will migrate away from using SQL Server Management Studio. However, you can still write SQL code inside Databricks, and you can still run SQL scripts from RStudio against data held in the Databricks unity catalog.</p>
<p><strong>Do I have to move all my existing code over to Databricks?</strong></p>
<p>No - this is discussed in more depth in the <a href="../ADA/ada.html#what-this-means-for-existing-code">what this means for existing code</a> section below.</p>
<hr>
</section>
<section id="working-with-data-and-code" class="level3">
<h3 class="anchored" data-anchor-id="working-with-data-and-code">Working with data and code</h3>
<p>In the Databricks interface, you have the choice to use notebooks, scripts or the Databricks SQL Editor. You can also connect Databricks to other IDEs, such as RStudio.</p>
<hr>
<section id="getting-access-to-your-data" class="level4">
<h4 class="anchored" data-anchor-id="getting-access-to-your-data">Getting access to your data</h4>
<hr>
<p>Data in Databricks is held in catalogs in the Delta Lake, which is centrally governed by the ADA team. Catalogs provide different levels of access control and security. In Databricks, databases are referred to as “schemas”, with tables sitting below them. You can find out more information about this on the <a href="https://analytical-data-access.azurewebsites.net/get-support/how-databricks-works" target="_blank">ADA guidance site</a> and on our <a href="../ADA/databricks_fundamentals.html">Databricks fundamentals</a> page.</p>
<p>You will need to be given access to Databricks and the data you require by the ADA team by completing an “Analytical Data Access Request” service request form in the IT Help Centre. At the moment, not all of the data currently available in SSMS has been migrated to the Delta Lake for use in Databricks. You can <a href="https://app.powerbi.com/groups/me/reports/966389db-2e4e-42b6-8416-36aee2fb9503/ReportSection?ctid=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9&amp;experience=power-bi" target="_blank">check the status of various datasets</a> in the data catalogue dashboard.</p>
<p>To access your data and make use of cloud computing resource, you will need access to a cluster, which is a group of virtual machines that complete your processing for you. Your cluster setup will depend on which programming language you wish to use. You will be given access to a shared cluster when your data access is granted. Please see the <a href="https://analytical-data-access.education.gov.uk/get-support/how-clusters-work" target="_blank">how clusters work</a> page on the ADA guidance site and our <a href="../ADA/databricks_fundamentals.html">Databricks fundamentals</a> page for more detail.</p>
<hr>
</section>
<section id="writing-and-running-code-scripts-and-ides" class="level4">
<h4 class="anchored" data-anchor-id="writing-and-running-code-scripts-and-ides">Writing and running code: scripts and IDEs</h4>
<hr>
<p>Writing scripts in SSMS and using IDEs such as RStudio are the way in which we currently write and run the majority of our code in DfE. You can learn more about how existing code will be affected by the introduction of Databricks in the <a href="../ADA/ada.html#what-this-means-for-existing-code">what this means for existing code</a> section below.</p>
<p>Scripts (e.g.&nbsp;R scripts) can be created and saved in your Workspace (the equivalent of your personal folder) and run via the Databricks interface.</p>
<p>There is detailed guidance on using the Databricks SQL editor, which is similar to SSMS, on the <a href="https://analytical-data-access.education.gov.uk/get-support/using-sql-in-databricks-sql-editor" target="_blank">ADA guidance site</a>.</p>
<p>You can also run code from RStudio or other IDEs locally and execute it against the data held in Databricks. To do this, you will need to set up a connection between RStudio and the Databricks SQL Warehouse. This is explained in the <a href="../ADA/ada.html#r-scripts-in-rstudio">R scripts in RStudio section</a> below.</p>
<hr>
</section>
<section id="writing-and-running-code-workflows" class="level4">
<h4 class="anchored" data-anchor-id="writing-and-running-code-workflows">Writing and running code: workflows</h4>
<hr>
<p>Workflows are a Databricks feature that allow you to schedule and automatically run your code at specified times and in the order you suggest.</p>
<p>Workflows allow you to automate the running of single or multiple scripts, so if you have large amounts of data processing to do on a regular basis, you can set up a workflow to complete this overnight. Your laptop does not need to be switched on for this to work. You can read more about workflows on our <a href="../ADA/databricks_workflows.html">Databricks workflows</a> guidance page.</p>
<hr>
</section>
<section id="writing-and-running-code-notebooks" class="level4">
<h4 class="anchored" data-anchor-id="writing-and-running-code-notebooks">Writing and running code: notebooks</h4>
<hr>
<p>Notebooks might be something you’ve not come across before. Notebooks are made up of multiple code or markdown cells, allowing you to interactively run code and see the results in the same page. The way you write and use code is different to how you would work with IDEs (Integrated Development Environments) like RStudio. You can find more information on Databricks notebooks and their structure on the <a href="https://analytical-data-access.education.gov.uk/get-support/using-r-python-and-sql-in-databricks" target="_blank">ADA guidance site</a> and on our <a href="../ADA/databricks_notebooks.html">Databricks notebooks</a> guidance page.</p>
<p>Notebooks can be helpful for ad hoc, exploratory, or one off pieces of analysis to add additional documentation as you go. You can also use notebooks to present findings to others by hiding code cells and only showing Markdown cells containing charts, tables, images or text. They can be exported as HTML files to enable easier sharing outside of the Databricks interface.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>If the rest of your team are unfamiliar with notebooks and will need to pick up your work at a later date, use of notebooks without proper handover or documentation could cause issues and result in work no longer being reproducible. The <a href="mailto:statistics.development@education.gov.uk">Statistics Development Team</a> are happy to advise on this and provide guidance if you have any concerns.</p>
</div>
</div>
<p>For regular analysis pipelines and models adopting RAP principles we’d usually advise against using notebooks and instead recommend a Git controlled repository of code scripts using the <a href="https://dfe-analytical-services.github.io/dfeR/reference/create_project.html" target="_blank">standard repository template available in dfeR</a>.</p>
<p>We recommend this because in addition to notebooks being different to how many teams write code now, version control, collaboration and reproducibility can all be more difficult in Databricks notebooks. If you would like to use notebooks for analysis, they must be used in conjunction with an Azure DevOps or GitHub repository. If you share a notebook with edit permissions, it is possible for your code run to be accidentally cancelled if another user starts running code in the same notebook. Your code can also be overwritten by other users, and it can be difficult to recover previous versions.</p>
<p>When you have a full script in an IDE, the script will provide the same output consistently. However, with notebooks you can run code cells independently of one another. You must ensure that you run all code cells in the correct sequential order. If you do not run all code cells in order then your output could be inconsistent and result in errors, potentially making QA more difficult. This introduces more manual steps and increases the risk of human error.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>When using Databricks notebooks with git, cell outputs are automatically cleared by default when your code is pushed up to a repository. However, if you share a notebook using the Databricks interface, cell outputs remain intact from the last time you ran the code. This risks sharing data that should not be shared with others. Before sharing code with someone outside your team, you must use the <code>Clear all cell outputs</code> option in the Databricks “Run” menu to avoid inadvertently sharing data that only you and your team should have access to.</p>
</div>
</div>
<p>The table below, taken from <a href="https://nhsdigital.github.io/rap-community-of-practice/implementing_RAP/notebooks_versus_ide_development/" target="_blank">NHS-R guidance</a>, shows a comparison of the features of notebooks and IDEs to help you decide where each would be most appropriately used:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Feature</th>
<th>Notebooks</th>
<th>IDEs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Interactive outputs (tables, plots, etc)</td>
<td>Yes</td>
<td>No*</td>
</tr>
<tr class="even">
<td>Storytelling and sharing results</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="odd">
<td>Benefits out-of-the-box (minimal configuration)</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="even">
<td>Deterministic outputs (i.e.&nbsp;same result every run)</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Supports modular code structure &amp; packages</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Supports unit testing frameworks</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Nice version control (e.g.&nbsp;readable git diffs)</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Autocomplete / auto-formatting &amp; syntax highlighting</td>
<td>Yes**</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Compatible with sharing code externally</td>
<td>Yes***</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>* whilst you can still make and preview tables and plots in RStudio and other IDEs, they’re not interactive in the same way as those in notebooks<br>
** auto-formatting is available for SQL and Python in Databricks, but not R<br>
*** external users must have software that would allow them to open notebooks</p>
<p>You can read more about the differences between IDEs and notebooks and where each might be useful <a href="../ADA/ada.html#differences-between-ides-and-notebooks">on the NHS-R website</a>.</p>
<hr>
</section>
<section id="accessing-code-from-a-git-repository" class="level4">
<h4 class="anchored" data-anchor-id="accessing-code-from-a-git-repository">Accessing code from a Git repository</h4>
<hr>
<p>Databricks has inbuilt Git functionality, and you can save your notebooks and scripts inside Git repositories as with any other file formats. There is guidance on using Databricks with Azure DevOps on our <a href="ADA/git_databricks.html">Databricks and version control page</a>.</p>
<hr>
</section>
</section>
</section>
<section id="what-this-means-for-existing-code" class="level2">
<h2 class="anchored" data-anchor-id="what-this-means-for-existing-code">What this means for existing code</h2>
<section id="sql-scripts" class="level3">
<h3 class="anchored" data-anchor-id="sql-scripts">SQL scripts</h3>
<hr>
<section id="scripts-currently-used-in-ssms" class="level4">
<h4 class="anchored" data-anchor-id="scripts-currently-used-in-ssms">Scripts currently used in SSMS</h4>
<hr>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Once your team’s data has been migrated, you will <strong>not</strong> immediately lose access to your existing data sources, so you will be able to dual run your code using data from SSMS and data from the Databricks unity catalog to ensure that everything is working as it should be. Once you have confirmed that you are happy with the data in Databricks, your access to the legacy platform will be switched off.</p>
</div>
</div>
<p>If you currently use data and scripts stored in SSMS for your analysis, there will be small changes you need to make that vary depending on your current process.</p>
<p>Your SQL code will need to be migrated over to Databricks to allow it to read from the Databricks SQL Warehouse and will require some minor changes to syntax as SSMS uses T-SQL and Databricks uses Spark SQL. The ADA team are currently developing a tool to allow you to easily convert T-SQL queries to Spark SQL syntax, and Microsoft Copilot can also be useful for helping you with code translation. All DfE laptops should provide you with access to Copilot as standard.</p>
<p>You can write new SQL code in the Databricks SQL Editor, which is very similar to SSMS. We recommend using the SQL Editor for short, ad-hoc SQL queries, such as those required to answer PQs. For longer or more complex SQL analysis we recommend using standalone scripts run from an RStudio project, or Databricks notebooks.</p>
<hr>
</section>
<section id="sql-scripts-in-repositories-or-embedded-in-r-scripts" class="level4">
<h4 class="anchored" data-anchor-id="sql-scripts-in-repositories-or-embedded-in-r-scripts">SQL scripts in repositories or embedded in R scripts</h4>
<hr>
<p>These scripts do not need to be moved, but the syntax of the scripts or embedded code will need to be rewritten from T-SQL to Spark SQL.</p>
<p>You will also need to change the connection source to allow the code to run. Rather than pointing to data held in current SQL databases, you will need to point towards the Databricks unity catalog instead. To do this, please see our page on <a href="../ADA/databricks_rstudio_sql_warehouse.html">setting up a connection between Databricks and RStudio using a SQL warehouse</a>.</p>
<hr>
</section>
<section id="workflows" class="level4">
<h4 class="anchored" data-anchor-id="workflows">Workflows</h4>
<hr>
<p>If you’d like to make use of automated workflows to run scheduled code, then your SQL code will need to be moved into Databricks, using Spark SQL syntax. Workflows can make use of code from notebooks or R or SQL scripts stored in either a Databricks workspace or a Git repository. You can read more about workflows on our <a href="../ADA/databricks_workflows.html">Databricks workflows</a> page.</p>
<p>In addition to setting up workflows using the point and click interface in Databricks, you can also script them yourself. To learn more about this, see our <a href="../ADA/databricks_workflow_script_databricks.html">script workflows in Databricks</a> and <a href="../ADA/databricks_workflow_script_rstudio.html">script workflows in RStudio</a> user guides.</p>
<hr>
</section>
</section>
<section id="r-scripts-in-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="r-scripts-in-rstudio">R scripts in RStudio</h3>
<hr>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you have an existing RAP process and pipeline set up using RStudio and SSMS, there is no current expectation for you to migrate your existing R code or scripts from RStudio to Databricks notebooks.</p>
</div>
</div>
<p>Your R code can remain in RStudio and all existing R processes can still be run there. Code that points towards SQL scripts will need to be redirected to Databricks rather than SSMS. In order to use RStudio with a Databricks SQL warehouse, you will need to manually set up a connection. You can find more information about that on our <a href="../ADA/databricks_rstudio_sql_warehouse.html">set up Databricks SQL Warehouse with RStudio</a>.</p>
<hr>
</section>
<section id="visualising-differences-in-your-existing-pipelines" class="level3">
<h3 class="anchored" data-anchor-id="visualising-differences-in-your-existing-pipelines">Visualising differences in your existing pipelines</h3>
<hr>
<p>In the diagram below, we have outlined the potential differences in pipelines before vs after migration to Databricks (changes are highlighted in red):</p>


<title>
ADA-diagram
</title>
<meta charset="utf-8">


<div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;<mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2023-11-28T10:51:41.766Z\&quot; agent=\&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36 Edg/119.0.0.0\&quot; etag=\&quot;idS29aCDn9ygIsJE-O0F\&quot; version=\&quot;22.1.4\&quot; type=\&quot;google\&quot;>\n  <diagram id=\&quot;C5RBs43oDa-KdzZeNtuy\&quot; name=\&quot;Page-1\&quot;>\n    <mxGraphModel dx=\&quot;1786\&quot; dy=\&quot;1151\&quot; grid=\&quot;0\&quot; gridSize=\&quot;10\&quot; guides=\&quot;1\&quot; tooltips=\&quot;1\&quot; connect=\&quot;1\&quot; arrows=\&quot;1\&quot; fold=\&quot;1\&quot; page=\&quot;0\&quot; pageScale=\&quot;1\&quot; pageWidth=\&quot;827\&quot; pageHeight=\&quot;1169\&quot; math=\&quot;0\&quot; shadow=\&quot;0\&quot;>\n      <root>\n        <mxCell id=\&quot;WIyWlLk6GJQsqaUBKTNV-0\&quot; />\n        <mxCell id=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-0\&quot; />\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-1\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Data stored in SQL servers&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#003CB3;strokeColor=#001DBC;fontColor=#ffffff;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;-108\&quot; y=\&quot;12.5\&quot; width=\&quot;92\&quot; height=\&quot;131\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-13\&quot; value=\&quot;\&quot; style=\&quot;shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;73\&quot; y=\&quot;-84\&quot; width=\&quot;274\&quot; height=\&quot;306.25\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-14\&quot; value=\&quot;\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-13\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;274\&quot; height=\&quot;92\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-15\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code stored in Git repositories and executed in R studio. Data pulled in via CSVs or ODBC connections to SQL&amp;amp;nbsp;&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#001DBC;overflow=hidden;fillColor=#003CB3;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=4;colspan=1;fontColor=#ffffff;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-14\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;306\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;92\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-16\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;SQL code (optional) to process data, executed in SSMS or R studio via ODBC connection&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-14\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;92\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;92\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-17\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-14\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;92\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;92\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-18\&quot; value=\&quot;\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-13\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry y=\&quot;92\&quot; width=\&quot;274\&quot; height=\&quot;97\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-19\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-18\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;97\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;97\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-20\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;R scripts to process data, create EES tables &amp;amp;amp; plots etc., run in R studio on device.&amp;amp;nbsp;&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-18\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;97\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;97\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-21\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-18\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;97\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;97\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-22\&quot; value=\&quot;\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-13\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry y=\&quot;189\&quot; width=\&quot;274\&quot; height=\&quot;61\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-23\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-22\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;61\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;61\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-24\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;R scripts for automated QA and summaries&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-22\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;61\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;61\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-25\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-22\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;61\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;61\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-26\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-13\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry y=\&quot;250\&quot; width=\&quot;274\&quot; height=\&quot;56\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-27\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-26\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;56\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;56\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-28\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;R scripts for exploratory analysis.&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-26\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;56\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;56\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-29\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-26\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;56\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;56\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-41\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;fillColor=#0050ef;strokeColor=#2073BC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-32\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-39\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-32\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code saves tidy EES files as CSVs&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#003CB3;fontColor=#ffffff;strokeColor=#001DBC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;442\&quot; y=\&quot;-50\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-33\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code generates human-readable QA reports - analysts read and review&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;447\&quot; y=\&quot;46\&quot; width=\&quot;143\&quot; height=\&quot;73\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-34\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code generates human-readable summaries which feed publication narrative - analysts to read and review&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;447\&quot; y=\&quot;119\&quot; width=\&quot;143\&quot; height=\&quot;123\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-35\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#fff2cc;strokeColor=#2073BC;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-1\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-13\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;-2\&quot; y=\&quot;90\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;66\&quot; y=\&quot;77.5\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-36\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#0050ef;strokeColor=#2073BC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-18\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-32\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;355\&quot; y=\&quot;20\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;439\&quot; y=\&quot;-15\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-37\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#0050ef;strokeColor=#2073BC;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-22\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-33\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;352\&quot; y=\&quot;99\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;436\&quot; y=\&quot;64\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-38\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#0050ef;strokeColor=#2073BC;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-22\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-34\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;352\&quot; y=\&quot;110\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;425\&quot; y=\&quot;138\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-44\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#0050ef;strokeColor=#2073BC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-39\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-42\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-46\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#0050ef;strokeColor=#2073BC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-39\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-45\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <UserObject label=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Run CSVs through the data screener&amp;lt;/font&amp;gt;\&quot; link=\&quot;https://rsconnect/rsc/dfe-published-data-qa/\&quot; id=\&quot;oiwJe_iELQbQmKZMu3Fc-39\&quot;>\n          <mxCell style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#003CB3;fontColor=#ffffff;strokeColor=#001DBC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n            <mxGeometry x=\&quot;617\&quot; y=\&quot;-50\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; />\n          </mxCell>\n        </UserObject>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-42\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Check results and feedback edits into code if needed&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;611\&quot; y=\&quot;55\&quot; width=\&quot;132\&quot; height=\&quot;74\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-43\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#0050ef;strokeColor=#2073BC;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-42\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-13\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;662\&quot; y=\&quot;188\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;757\&quot; y=\&quot;126\&quot; as=\&quot;targetPoint\&quot; />\n            <Array as=\&quot;points\&quot;>\n              <mxPoint x=\&quot;677\&quot; y=\&quot;266\&quot; />\n              <mxPoint x=\&quot;142\&quot; y=\&quot;266\&quot; />\n            </Array>\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-45\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;CSVs added to EES with metadata files&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#003CB3;fontColor=#ffffff;strokeColor=#001DBC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;778\&quot; y=\&quot;-50\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-47\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Data stored in &amp;lt;span style=&amp;quot;background-color: rgb(204, 0, 0);&amp;quot;&amp;gt;ADA / Databricks&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#003CB3;strokeColor=#001DBC;fontColor=#ffffff;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;-108\&quot; y=\&quot;515.5\&quot; width=\&quot;92\&quot; height=\&quot;131\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-48\&quot; value=\&quot;\&quot; style=\&quot;shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;73\&quot; y=\&quot;438\&quot; width=\&quot;274\&quot; height=\&quot;289.75\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-49\&quot; value=\&quot;\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-48\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;274\&quot; height=\&quot;95\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-50\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code stored in Git repositories and executed in R studio. Data pulled in via CSVs or ODBC connections to &amp;lt;span style=&amp;quot;background-color: rgb(204, 0, 0);&amp;quot;&amp;gt;Databricks&amp;lt;/span&amp;gt;&amp;amp;nbsp;&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#001DBC;overflow=hidden;fillColor=#003CB3;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=4;colspan=1;fontColor=#ffffff;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-49\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;290\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;95\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-51\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;SQL code (optional) to process data, executed in &amp;lt;span style=&amp;quot;background-color: rgb(255, 153, 153);&amp;quot;&amp;gt;Databricks&amp;lt;/span&amp;gt; or R studio via ODBC connection&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-49\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;95\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;95\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-52\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-49\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;95\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;95\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-53\&quot; value=\&quot;\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-48\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry y=\&quot;95\&quot; width=\&quot;274\&quot; height=\&quot;98\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-54\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-53\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;98\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;98\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-55\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;R scripts to process data, create EES tables &amp;amp;amp; plots etc., run in R studio on device.&amp;amp;nbsp;&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-53\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;98\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;98\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-56\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-53\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;98\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;98\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-57\&quot; value=\&quot;\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-48\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry y=\&quot;193\&quot; width=\&quot;274\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-58\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-57\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;50\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-59\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;R scripts for automated QA and summaries&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-57\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;50\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-60\&quot; value=\&quot;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-57\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;50\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-61\&quot; style=\&quot;shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-48\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry y=\&quot;243\&quot; width=\&quot;274\&quot; height=\&quot;47\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-62\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-61\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;92\&quot; height=\&quot;47\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;47\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-63\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;R scripts for exploratory analysis.&amp;lt;/font&amp;gt;\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;rowspan=1;colspan=2;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-61\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;92\&quot; width=\&quot;182\&quot; height=\&quot;47\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;90\&quot; height=\&quot;47\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-64\&quot; style=\&quot;shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;\&quot; parent=\&quot;oiwJe_iELQbQmKZMu3Fc-61\&quot; visible=\&quot;0\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;182\&quot; width=\&quot;92\&quot; height=\&quot;47\&quot; as=\&quot;geometry\&quot;>\n            <mxRectangle width=\&quot;92\&quot; height=\&quot;47\&quot; as=\&quot;alternateBounds\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-65\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;fillColor=#0050ef;strokeColor=#2073BC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-66\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-75\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-66\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code saves tidy EES files as CSVs&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#003CB3;fontColor=#ffffff;strokeColor=#001DBC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;442\&quot; y=\&quot;453\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-67\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code generates human-readable QA reports - analysts read and review&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;447\&quot; y=\&quot;546\&quot; width=\&quot;139\&quot; height=\&quot;76\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-68\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Code generates human-readable summaries which feed publication narrative - analysts to read and review&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;447\&quot; y=\&quot;622\&quot; width=\&quot;139\&quot; height=\&quot;110\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-69\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#1ba1e2;strokeColor=#2073BC;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-47\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-48\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;-2\&quot; y=\&quot;593\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;66\&quot; y=\&quot;580.5\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-70\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#0050ef;strokeColor=#2073BC;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-53\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-66\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;355\&quot; y=\&quot;523\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;439\&quot; y=\&quot;488\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-71\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#0050ef;strokeColor=#2073BC;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-57\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-67\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;352\&quot; y=\&quot;602\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;436\&quot; y=\&quot;567\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-72\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#0050ef;strokeColor=#2073BC;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-57\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-68\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;352\&quot; y=\&quot;613\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;425\&quot; y=\&quot;641\&quot; as=\&quot;targetPoint\&quot; />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-73\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#0050ef;strokeColor=#2073BC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-75\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-76\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-74\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#0050ef;strokeColor=#2073BC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-75\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-78\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <UserObject label=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Run CSVs through the data screener&amp;lt;/font&amp;gt;\&quot; link=\&quot;https://rsconnect/rsc/dfe-published-data-qa/\&quot; id=\&quot;oiwJe_iELQbQmKZMu3Fc-75\&quot;>\n          <mxCell style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#003CB3;fontColor=#ffffff;strokeColor=#001DBC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n            <mxGeometry x=\&quot;617\&quot; y=\&quot;453\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; />\n          </mxCell>\n        </UserObject>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-76\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;Check results and feedback edits into code if needed&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;611\&quot; y=\&quot;558\&quot; width=\&quot;132\&quot; height=\&quot;74\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-77\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;strokeWidth=5;fillColor=#0050ef;strokeColor=#2073BC;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; source=\&quot;oiwJe_iELQbQmKZMu3Fc-76\&quot; target=\&quot;oiwJe_iELQbQmKZMu3Fc-48\&quot; edge=\&quot;1\&quot;>\n          <mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;>\n            <mxPoint x=\&quot;662\&quot; y=\&quot;691\&quot; as=\&quot;sourcePoint\&quot; />\n            <mxPoint x=\&quot;757\&quot; y=\&quot;629\&quot; as=\&quot;targetPoint\&quot; />\n            <Array as=\&quot;points\&quot;>\n              <mxPoint x=\&quot;677\&quot; y=\&quot;769\&quot; />\n              <mxPoint x=\&quot;142\&quot; y=\&quot;769\&quot; />\n            </Array>\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-78\&quot; value=\&quot;&amp;lt;font style=&amp;quot;font-size: 14px;&amp;quot;&amp;gt;CSVs added to EES with metadata files&amp;lt;/font&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#003CB3;fontColor=#ffffff;strokeColor=#001DBC;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;778\&quot; y=\&quot;453\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-85\&quot; value=\&quot;Before ADA:&amp;amp;nbsp;\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=21;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;-108\&quot; y=\&quot;-139\&quot; width=\&quot;139\&quot; height=\&quot;37\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n        <mxCell id=\&quot;oiwJe_iELQbQmKZMu3Fc-86\&quot; value=\&quot;After ADA:\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=21;\&quot; parent=\&quot;WIyWlLk6GJQsqaUBKTNV-1\&quot; vertex=\&quot;1\&quot;>\n          <mxGeometry x=\&quot;-96\&quot; y=\&quot;367\&quot; width=\&quot;116\&quot; height=\&quot;37\&quot; as=\&quot;geometry\&quot; />\n        </mxCell>\n      </root>\n    </mxGraphModel>\n  </diagram>\n</mxfile>\n&quot;}">

</div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>


<hr>
</section>
</section>
<section id="useful-links" class="level2">
<h2 class="anchored" data-anchor-id="useful-links">Useful links</h2>
<section id="ada-support-page" class="level3">
<h3 class="anchored" data-anchor-id="ada-support-page">ADA support page</h3>
<hr>
<p>See the <a href="https://analytical-data-access.azurewebsites.net/get-support/how-databricks-works" target="_blank">ADA support page on how Databricks works</a>.</p>
<hr>
</section>
<section id="databricks-jargon-buster" class="level3">
<h3 class="anchored" data-anchor-id="databricks-jargon-buster">Databricks jargon buster</h3>
<p>The core concepts of Databricks and any related acronyms are explained in the <a href="https://analytical-data-access.education.gov.uk/get-support/jargon" target="_blank">jargon buster</a></p>
<hr>
</section>
<section id="differences-between-ides-and-notebooks" class="level3">
<h3 class="anchored" data-anchor-id="differences-between-ides-and-notebooks">Differences between IDEs and Notebooks</h3>
<hr>
<p>RStudio is an IDE (Integrated Development Environment) whereas Databricks makes use of Notebooks, where you write your code in blocks contained in individual cells. There are advantages and disadvantages to both methods, and <a href="https://nhsdigital.github.io/rap-community-of-practice/implementing_RAP/notebooks_versus_ide_development/#what-is-this-guide-for" target="_blank">this NHS-R article</a> outlines some of the differences you might come across when switching from using IDEs to Notebooks.</p>
<hr>
</section>
<section id="walkthrough-a-simple-analysis" class="level3">
<h3 class="anchored" data-anchor-id="walkthrough-a-simple-analysis">Walkthrough a simple analysis</h3>
<hr>
<p>See the <a href="https://analytical-data-access.azurewebsites.net/get-support/using-r-python-and-sql-in-databricks" target="_blank">ADA support page on using R, python and SQL in Databricks</a>.</p>
<hr>
</section>
<section id="helpful-getting-started-videos" class="level3">
<h3 class="anchored" data-anchor-id="helpful-getting-started-videos">Helpful getting started videos</h3>
<hr>
<p>See the collection of <a href="https://educationgovuk.sharepoint.com/:f:/r/sites/ADA-SuperUserForum/Shared%20Documents/General/Getting%20started%20videos?csf=1&amp;web=1&amp;e=RCFSib" target="_blank">getting started videos</a> covering the basics of Databricks and using notebooks.</p>
<hr>
</section>
<section id="databricks-code-templates" class="level3">
<h3 class="anchored" data-anchor-id="databricks-code-templates">Databricks code templates</h3>
<hr>
<p>See examples and code snippets in R, SQL and Python in these <a href="https://adb-6882499576863257.17.azuredatabricks.net/browse/folders/3070168888967919?o=6882499576863257#" target="_blank">Databricks code template notebooks</a>.</p>
<hr>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/dfe-analytical-services\.github\.io\/analysts-guide");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="../ADA/databricks_fundamentals.html" class="pagination-link" aria-label="Databricks fundamentals">
        <span class="nav-page-text">Databricks fundamentals</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Department for Education, 2024</p>
</div>   
    <div class="nav-footer-center">

<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/dfe-analytical-services/analysts-guide/edit/main/ADA/ada.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/dfe-analytical-services/analysts-guide/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
<p>This page is maintained by statistics.development@education.gov.uk</p>
</div>
  </div>
</footer>




</body></html>